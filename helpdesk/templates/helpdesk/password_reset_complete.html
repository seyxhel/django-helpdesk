{% extends "helpdesk/public_only_base.html" %}{% load i18n %}

{% block helpdesk_title %}{% trans "Password reset complete" %}{% endblock %}

{% block helpdesk_body %}
<div id="pw-success-overlay" aria-hidden="true" style="display:flex; position:fixed; inset:0; z-index:1200; align-items:center; justify-content:center; background:rgba(0,0,0,0.18);">
  <div id="pw-success-backdrop" style="background: rgba(0,0,0,0.4); position:absolute; inset:0;"></div>
  <div style="position:relative; z-index:1201; display:flex; align-items:center; justify-content:center;">
    <div id="pw-success-card" role="status" aria-live="polite" style="width:420px; max-width:94vw; background:#fff; border-radius:12px; padding:28px; box-shadow:0 10px 40px rgba(0,0,0,0.2); text-align:center; transition: transform 250ms ease, opacity 250ms ease;">
      <!-- animated check circle -->
      <svg width="84" height="84" viewBox="0 0 120 120" style="display:block;margin:0 auto 12px auto;">
        <circle cx="60" cy="60" r="48" stroke="#0f9d58" stroke-width="6" fill="none" stroke-dasharray="302" stroke-dashoffset="302">
          <animate attributeName="stroke-dashoffset" from="302" to="0" dur="0.45s" fill="freeze" />
        </circle>
        <path d="M40 62 L54 76 L82 46" stroke="#0f9d58" stroke-width="6" fill="none" stroke-linecap="round" stroke-linejoin="round" opacity="0">
          <animate attributeName="opacity" from="0" to="1" begin="0.4s" dur="0.15s" fill="freeze" />
        </path>
      </svg>
      <h2 style="margin:0 0 8px 0; font-size:20px;">{% trans "Success!" %}</h2>
      <p id="pw-success-text" style="margin:0; color:#444;">{% trans "Your password has been reset. You will be redirected to login." %}</p>
    </div>
  </div>
</div>
<script>
(function(){
  var overlay = document.getElementById('pw-success-overlay');
  var card = document.getElementById('pw-success-card');
  if(overlay && card) {
    overlay.style.display = 'flex';
    overlay.setAttribute('aria-hidden','false');
    card.style.transform = 'translateY(-6px)';
    card.style.opacity = '1';
    setTimeout(function(){
      card.style.transform = 'translateY(0)';
      card.style.opacity = '0';
      overlay.setAttribute('aria-hidden','true');
      setTimeout(function(){ overlay.style.display = 'none'; }, 260);
    }, 1400);
  setTimeout(function(){ window.location.href = '/login/'; }, 1400);
  }
})();
</script>
{% endblock %}
